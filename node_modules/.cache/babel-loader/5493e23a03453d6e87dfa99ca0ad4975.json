{"ast":null,"code":"var _jsxFileName = \"/Users/zeidaradumihai/Desktop/holidaze/build/holidaze-travel-agency/src/components/visitor/home/DropdownSearch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { BASE_URL } from '../../../constants/Api';\nimport Col from 'react-bootstrap/Col';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport Alert from 'react-bootstrap/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DropdownSearch() {\n  _s();\n\n  const [dropdownAccommodation, setDropdownAccommodation] = useState([]);\n  const [serverError, setServerError] = useState(false);\n  const history = useHistory();\n  const url = BASE_URL + \"/accommodations\";\n  useEffect(() => {\n    fetch(url).then(response => response.json()).then(res => {\n      if (res.error) {\n        setServerError(true);\n      } else {\n        const accommodations = res.map(function (accommodation) {\n          return {\n            id: accommodation.id,\n            label: accommodation.title\n          };\n        });\n        setDropdownAccommodation(accommodations);\n      }\n    }).catch(error => {\n      setServerError(error.message);\n    });\n  }, [url]);\n\n  function goToAccommodation(accommodation) {\n    console.log(\"accommodation\", accommodation);\n    history.push('/detail/' + accommodation[0].id);\n  }\n\n  if (serverError) {\n    return /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      className: \"error-alert\",\n      children: [\"An Error occurred, please refresh the page and try again. \", /*#__PURE__*/_jsxDEV(\"b\", {\n        className: \"error-b\",\n        children: \"Error description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 122\n      }, this), \" \", serverError]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Col, {\n      className: \"col_typeahead\",\n      children: /*#__PURE__*/_jsxDEV(Typeahead, {\n        id: \"dropdown\",\n        minLength: 0,\n        options: dropdownAccommodation,\n        onChange: selected => {\n          goToAccommodation(selected);\n        },\n        placeholder: \"Search accommodation...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(DropdownSearch, \"BURYBgA//cH6+JOWO8SN3YsmC+s=\", false, function () {\n  return [useHistory];\n});\n\n_c = DropdownSearch;\nexport default DropdownSearch;\n\nvar _c;\n\n$RefreshReg$(_c, \"DropdownSearch\");","map":{"version":3,"sources":["/Users/zeidaradumihai/Desktop/holidaze/build/holidaze-travel-agency/src/components/visitor/home/DropdownSearch.js"],"names":["React","useState","useEffect","useHistory","BASE_URL","Col","Typeahead","Alert","DropdownSearch","dropdownAccommodation","setDropdownAccommodation","serverError","setServerError","history","url","fetch","then","response","json","res","error","accommodations","map","accommodation","id","label","title","catch","message","goToAccommodation","console","log","push","selected"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,QAAT,QAAyB,wBAAzB;AACA,OAAQC,GAAR,MAAkB,qBAAlB;AACA,SAASC,SAAT,QAA0B,2BAA1B;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;;;AAQA,SAASC,cAAT,GAA0B;AAAA;;AAEtB,QAAM,CAACC,qBAAD,EAAwBC,wBAAxB,IAAoDT,QAAQ,CAAC,EAAD,CAAlE;AACA,QAAM,CAACU,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,KAAD,CAA9C;AAEA,QAAMY,OAAO,GAAGV,UAAU,EAA1B;AAGA,QAAMW,GAAG,GAAGV,QAAQ,GAAG,iBAAvB;AAGAF,EAAAA,SAAS,CAAC,MAAM;AACZa,IAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACWC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EADxB,EAEKF,IAFL,CAEUG,GAAG,IAAI;AACT,UAAGA,GAAG,CAACC,KAAP,EAAc;AACVR,QAAAA,cAAc,CAAC,IAAD,CAAd;AAEH,OAHD,MAIK;AACD,cAAMS,cAAc,GAAGF,GAAG,CAACG,GAAJ,CAAQ,UAAUC,aAAV,EAAyB;AACpD,iBAAO;AAAEC,YAAAA,EAAE,EAAED,aAAa,CAACC,EAApB;AAAwBC,YAAAA,KAAK,EAAEF,aAAa,CAACG;AAA7C,WAAP;AACH,SAFsB,CAAvB;AAGAhB,QAAAA,wBAAwB,CAACW,cAAD,CAAxB;AACH;AACJ,KAbL,EAcKM,KAdL,CAcWP,KAAK,IAAI;AACZR,MAAAA,cAAc,CAACQ,KAAK,CAACQ,OAAP,CAAd;AACH,KAhBL;AAmBH,GApBQ,EAoBN,CAACd,GAAD,CApBM,CAAT;;AAsBA,WAASe,iBAAT,CAA2BN,aAA3B,EAA0C;AACtCO,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BR,aAA7B;AAEAV,IAAAA,OAAO,CAACmB,IAAR,CAAa,aAAaT,aAAa,CAAC,CAAD,CAAb,CAAiBC,EAA3C;AACH;;AAED,MAAGb,WAAH,EAAgB;AACZ,wBAAO,QAAC,KAAD;AAAO,MAAA,OAAO,EAAC,QAAf;AAAwB,MAAA,SAAS,EAAC,aAAlC;AAAA,4FAA0G;AAAG,QAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA1G,OAAyJA,WAAzJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBACI;AAAA,2BACA,QAAC,GAAD;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,6BACQ,QAAC,SAAD;AACI,QAAA,EAAE,EAAC,UADP;AAEI,QAAA,SAAS,EAAE,CAFf;AAGI,QAAA,OAAO,EAAEF,qBAHb;AAII,QAAA,QAAQ,EAAGwB,QAAD,IAAc;AACpBJ,UAAAA,iBAAiB,CAACI,QAAD,CAAjB;AACH,SANL;AAOI,QAAA,WAAW,EAAC;AAPhB;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA;AADA,mBADJ;AAiBH;;GA5DQzB,c;UAKWL,U;;;KALXK,c;AA8DT,eAAeA,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { BASE_URL } from '../../../constants/Api';\nimport  Col  from 'react-bootstrap/Col';\nimport { Typeahead } from 'react-bootstrap-typeahead';\nimport Alert from 'react-bootstrap/Alert';\n\n\n\n\n\n\n\nfunction DropdownSearch() {\n\n    const [dropdownAccommodation, setDropdownAccommodation] = useState([]);\n    const [serverError, setServerError] = useState(false);\n    \n    const history = useHistory();\n\n    \n    const url = BASE_URL + \"/accommodations\";\n\n\n    useEffect(() => {\n        fetch(url)\n            .then((response) => response.json())\n            .then(res => {\n                if(res.error) {\n                    setServerError(true);\n                    \n                }\n                else {\n                    const accommodations = res.map(function (accommodation) {\n                        return { id: accommodation.id, label: accommodation.title };\n                    });\n                    setDropdownAccommodation(accommodations);\n                }\n            })\n            .catch(error => {\n                setServerError(error.message);\n            })\n                \n        \n    }, [url]);\n\n    function goToAccommodation(accommodation) {\n        console.log(\"accommodation\", accommodation);\n        \n        history.push('/detail/' + accommodation[0].id);\n    }\n\n    if(serverError) {\n        return <Alert variant=\"danger\" className=\"error-alert\">An Error occurred, please refresh the page and try again. <b className=\"error-b\">Error description:</b> {serverError}</Alert>;\n    }\n\n    return (\n        <>\n        <Col className=\"col_typeahead\">\n                <Typeahead \n                    id=\"dropdown\"\n                    minLength={0}\n                    options={dropdownAccommodation}\n                    onChange={(selected) => {\n                        goToAccommodation(selected);\n                    }}\n                    placeholder=\"Search accommodation...\"\n                />\n              \n       </Col>\n\n        </>\n    );\n}\n\nexport default DropdownSearch;\n"]},"metadata":{},"sourceType":"module"}